<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header"></head>
<body>
    <header th:replace="fragments/navbar :: navbar"></header>
    <main class="contenido">
        <h1 th:text="${libro.id == null ? 'Nuevo Libro' : 'Editar Libro'}"></h1>
        
        <form th:action="@{/libros/guardar}" th:object="${libro}" method="post">
            <!-- CAMPO HIDDEN PARA EL ID -->
            <input type="hidden" th:field="*{id}">
            
            <label>Título:</label>
            <input type="text" th:field="*{titulo}" required>
            
            <label>Autor:</label>
            <input type="text" th:field="*{autor}" required>
            
            <label>ISBN:</label>
            <input type="text" th:field="*{isbn}">
            
            <label>Categoría:</label>
            <select th:field="*{categoria}" required>
                <option value="">-- Seleccione una categoría --</option>
                <option th:each="c : ${categorias}" 
                        th:value="${c.id}" 
                        th:text="${c.nombre}"
                        th:selected="${libro.categoria != null && libro.categoria.id == c.id}">
                </option>
            </select>
            
            <label>Fecha de Publicación:</label>
            <input type="date" th:field="*{fechaPublicacion}">
            
            <label>Precio:</label>
            <input type="number" step="0.01" th:field="*{precio}" required>
            
            <label>Disponible:</label>
            <input type="checkbox" th:field="*{disponible}">
            
            <label>Descripción:</label>
            <textarea th:field="*{descripcion}"></textarea>
            
            <button type="submit">Guardar</button>
            <a th:href="@{/libros}">Cancelar</a>
        </form>
    </main>
    <footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>
